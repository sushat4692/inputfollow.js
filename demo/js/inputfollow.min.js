/*!
  inputfollow.js v0.0.11
  https://github.com/sushat4692/inputfollow.js#readme
  Released under the MIT License.
*/
var InputFollow=function(){"use strict";function n(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function e(n,e,t,r,o,i,u){try{var a=n[i](u),s=a.value}catch(n){return void t(n)}a.done?e(s):Promise.resolve(s).then(r,o)}function t(n){return function(){var t=this,r=arguments;return new Promise(function(o,i){var u=n.apply(t,r);function a(n){e(u,o,i,a,s,"next",n)}function s(n){e(u,o,i,a,s,"throw",n)}a(void 0)})}}function r(n,e,t){return e=s(e),function(n,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}(n,l()?Reflect.construct(e,t||[],s(n).constructor):e.apply(n,t))}function o(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function i(n,e,t){return Object.defineProperty(n,"prototype",{writable:!1}),n}function u(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=g(n))||e){t&&(n=t);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return u=n.done,n},e:function(n){a=!0,i=n},f:function(){try{u||null==t.return||t.return()}finally{if(a)throw i}}}}function a(n,e,t){return(e=function(n){var e=function(n,e){if("object"!=typeof n||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==typeof e?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function s(n){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},s(n)}function c(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&y(n,e)}function l(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(n){}return(l=function(){return!!n})()}function f(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,r)}return t}function p(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?f(Object(t),!0).forEach(function(e){a(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}function d(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */
var n,e,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,r,o,i){var s=r&&r.prototype instanceof a?r:a,c=Object.create(s.prototype);return v(c,"_invoke",function(t,r,o){var i,a,s,c=0,l=o||[],f=!1,p={p:0,n:0,v:n,a:d,f:d.bind(n,4),d:function(e,t){return i=e,a=0,s=n,p.n=t,u}};function d(t,r){for(a=t,s=r,e=0;!f&&c&&!o&&e<l.length;e++){var o,i=l[e],d=p.p,v=i[2];t>3?(o=v===r)&&(s=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=n):i[0]<=d&&((o=t<2&&d<i[1])?(a=0,p.v=r,p.n=i[1]):d<v&&(o=t<3||i[0]>r||r>v)&&(i[4]=t,i[5]=r,p.n=v,a=0))}if(o||t>1)return u;throw f=!0,r}return function(o,l,v){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,v),a=l,s=v;(e=a<2?n:s)||!f;){i||(a?a<3?(a>1&&(p.n=-1),d(a,s)):p.n=s:p.v=s);try{if(c=2,i){if(a||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,a<2&&(a=0)}else 1===a&&(e=i.return)&&e.call(i),a<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=n}else if((e=(f=p.n<0)?s:t.call(r,p))!==u)break}catch(e){i=n,a=1,s=e}finally{c=1}}return{value:e,done:f}}}(t,o,i),!0),c}var u={};function a(){}function s(){}function c(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(v(e={},r,function(){return this}),e),f=c.prototype=a.prototype=Object.create(l);function p(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,c):(n.__proto__=c,v(n,o,"GeneratorFunction")),n.prototype=Object.create(f),n}return s.prototype=c,v(f,"constructor",c),v(c,"constructor",s),s.displayName="GeneratorFunction",v(c,o,"GeneratorFunction"),v(f),v(f,o,"Generator"),v(f,r,function(){return this}),v(f,"toString",function(){return"[object Generator]"}),(d=function(){return{w:i,m:p}})()}function v(n,e,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}v=function(n,e,t,r){function i(e,t){v(n,e,function(n){return this._invoke(e,t,n)})}e?o?o(n,e,{value:t,enumerable:!r,configurable:!r,writable:!r}):n[e]=t:(i("next",0),i("throw",1),i("return",2))},v(n,e,t,r)}function y(n,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,e){return n.__proto__=e,n},y(n,e)}function h(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,i,u,a=[],s=!0,c=!1;try{if(i=(t=t.call(n)).next,0===e);else for(;!(s=(r=i.call(t)).done)&&(a.push(r.value),a.length!==e);s=!0);}catch(n){c=!0,o=n}finally{try{if(!s&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(n,e)||g(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(n){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_(n)}function g(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function b(n){var e="function"==typeof Map?new Map:void 0;return b=function(n){if(null===n||!function(n){try{return-1!==Function.toString.call(n).indexOf("[native code]")}catch(e){return"function"==typeof n}}(n))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(n))return e.get(n);e.set(n,t)}function t(){return function(n,e,t){if(l())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(n.bind.apply(n,r));return t&&y(o,t.prototype),o}(n,arguments,s(this).constructor)}return t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),y(t,n)},b(n)}var w=function(){return w=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},w.apply(this,arguments)};function z(n,e,t){var a;function s(t,r){var o,i,u;for(var a in Object.defineProperty(t,"_zod",{value:null!==(o=t._zod)&&void 0!==o?o:{},enumerable:!1}),null!==(i=(u=t._zod).traits)&&void 0!==i||(u.traits=new Set),t._zod.traits.add(n),e(t,r),f.prototype)a in t||Object.defineProperty(t,a,{value:f.prototype[a].bind(t)});t._zod.constr=f,t._zod.def=r}var l=function(n){function e(){return o(this,e),r(this,e,arguments)}return c(e,n),i(e)}(null!==(a=null==t?void 0:t.Parent)&&void 0!==a?a:Object);function f(n){var e,r,o=null!=t&&t.Parent?new l:this;s(o,n),null!==(e=(r=o._zod).deferred)&&void 0!==e||(r.deferred=[]);var i,a=u(o._zod.deferred);try{for(a.s();!(i=a.n()).done;){(0,i.value)()}}catch(n){a.e(n)}finally{a.f()}return o}return Object.defineProperty(l,"name",{value:n}),Object.defineProperty(f,"init",{value:s}),Object.defineProperty(f,Symbol.hasInstance,{value:function(e){var r;return!!(null!=t&&t.Parent&&e instanceof t.Parent)||(null==e||null===(r=e._zod)||void 0===r||null===(r=r.traits)||void 0===r?void 0:r.has(n))}}),Object.defineProperty(f,"name",{value:n}),f}"function"==typeof SuppressedError&&SuppressedError;var O=function(n){function e(){return o(this,e),r(this,e,["Encountered Promise during synchronous parse. Use .parseAsync() instead."])}return c(e,n),i(e)}(b(Error)),j={};function P(n){return j}function k(n,e){return"bigint"==typeof e?e.toString():e}function E(n){var e=n.startsWith("^")?1:0,t=n.endsWith("$")?n.length-1:n.length;return n.slice(e,t)}var A=Symbol("evaluating");function S(n,e,t){var r=void 0;Object.defineProperty(n,e,{get:function(){if(r!==A)return void 0===r&&(r=A,r=t()),r},set:function(t){Object.defineProperty(n,e,{value:t})},configurable:!0})}var T="captureStackTrace"in Error?Error.captureStackTrace:function(){};function Z(n){return"object"===_(n)&&null!==n&&!Array.isArray(n)}var $=new Set(["string","number","symbol"]);function x(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function M(n,e,t){var r=new n._zod.constr(null!=e?e:n._zod.def);return(!e||null!=t&&t.parent)&&(r._zod.parent=n),r}function L(n){var e=n;if(!e)return{};if("string"==typeof e)return{error:function(){return e}};if(void 0!==(null==e?void 0:e.message)){if(void 0!==(null==e?void 0:e.error))throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,"string"==typeof e.error?p(p({},e),{},{error:function(){return e.error}}):e}function N(n,e,t){var r=function(){for(var n={},e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var o=0,i=t;o<i.length;o++){var u=i[o],a=Object.getOwnPropertyDescriptors(u);Object.assign(n,a)}return Object.defineProperties({},n)}(e._zod.def,{get shape(){var r,o,i,u=e._zod.def.shape,a=p({},u);if(t)for(var s in t){if(!(s in u))throw new Error('Unrecognized key: "'.concat(s,'"'));t[s]&&(a[s]=n?new n({type:"optional",innerType:u[s]}):u[s])}else for(var c in u)a[c]=n?new n({type:"optional",innerType:u[c]}):u[c];return r=this,o="shape",i=a,Object.defineProperty(r,o,{value:i,writable:!0,enumerable:!0,configurable:!0}),a},checks:[]});return M(e,r)}function C(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!0===n.aborted)return!0;for(var t=e;t<n.issues.length;t++){var r;if(!0!==(null===(r=n.issues[t])||void 0===r?void 0:r.continue))return!0}return!1}function I(n,e){return e.map(function(e){var t,r;return null!==(t=(r=e).path)&&void 0!==t||(r.path=[]),e.path.unshift(n),e})}function R(n){return"string"==typeof n?n:null==n?void 0:n.message}function F(n,e,t){var r,o=p(p({},n),{},{path:null!==(r=n.path)&&void 0!==r?r:[]});if(!n.message){var i,u,a,s,c,l,f,d,v,y=null!==(i=null!==(u=null!==(a=null!==(s=R(null===(c=n.inst)||void 0===c||null===(c=c._zod.def)||void 0===c||null===(l=c.error)||void 0===l?void 0:l.call(c,n)))&&void 0!==s?s:R(null==e||null===(f=e.error)||void 0===f?void 0:f.call(e,n)))&&void 0!==a?a:R(null===(d=t.customError)||void 0===d?void 0:d.call(t,n)))&&void 0!==u?u:R(null===(v=t.localeError)||void 0===v?void 0:v.call(t,n)))&&void 0!==i?i:"Invalid input";o.message=y}return delete o.inst,delete o.continue,null!=e&&e.reportInput||delete o.input,o}var D=function(n,e){n.name="$ZodError",Object.defineProperty(n,"_zod",{value:n._zod,enumerable:!1}),Object.defineProperty(n,"issues",{value:e,enumerable:!1}),n.message=JSON.stringify(e,k,2),Object.defineProperty(n,"toString",{value:function(){return n.message},enumerable:!1})},H=z("$ZodError",D),q=z("$ZodError",D,{Parent:Error}),U=function(n){return function(e,t,r,o){var i=r?Object.assign(r,{async:!1}):{async:!1},u=e._zod.run({value:t,issues:[]},i);if(u instanceof Promise)throw new O;if(u.issues.length){var a,s=new(null!==(a=null==o?void 0:o.Err)&&void 0!==a?a:n)(u.issues.map(function(n){return F(n,i,P())}));throw T(s,null==o?void 0:o.callee),s}return u.value}},G=U(q),B=function(n){return function(){var e=t(d().m(function e(t,r,o,i){var u,a,s,c;return d().w(function(e){for(;;)switch(e.n){case 0:if(u=o?Object.assign(o,{async:!0}):{async:!0},!((a=t._zod.run({value:r,issues:[]},u))instanceof Promise)){e.n=2;break}return e.n=1,a;case 1:a=e.v;case 2:if(!a.issues.length){e.n=3;break}throw c=new(null!==(s=null==i?void 0:i.Err)&&void 0!==s?s:n)(a.issues.map(function(n){return F(n,u,P())})),T(c,null==i?void 0:i.callee),c;case 3:return e.a(2,a.value)}},e)}));return function(n,t,r,o){return e.apply(this,arguments)}}()},V=B(q),K=function(n){return function(e,t,r){var o=r?p(p({},r),{},{async:!1}):{async:!1},i=e._zod.run({value:t,issues:[]},o);if(i instanceof Promise)throw new O;return i.issues.length?{success:!1,error:new(null!=n?n:H)(i.issues.map(function(n){return F(n,o,P())}))}:{success:!0,data:i.value}}},W=K(q),J=function(n){return function(){var e=t(d().m(function e(t,r,o){var i,u;return d().w(function(e){for(;;)switch(e.n){case 0:if(i=o?Object.assign(o,{async:!0}):{async:!0},!((u=t._zod.run({value:r,issues:[]},i))instanceof Promise)){e.n=2;break}return e.n=1,u;case 1:u=e.v;case 2:return e.a(2,u.issues.length?{success:!1,error:new n(u.issues.map(function(n){return F(n,i,P())}))}:{success:!0,data:u.value})}},e)}));return function(n,t,r){return e.apply(this,arguments)}}()},Y=J(q),Q=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,X=/^-?\d+(?:\.\d+)?/,nn=/^(?:true|false)$/i,en=z("$ZodCheck",function(n,e){var t,r,o;null!==(t=n._zod)&&void 0!==t||(n._zod={}),n._zod.def=e,null!==(r=(o=n._zod).onattach)&&void 0!==r||(o.onattach=[])}),tn=z("$ZodCheckMinLength",function(n,e){var t,r;en.init(n,e),null!==(t=(r=n._zod.def).when)&&void 0!==t||(r.when=function(n){var e,t=n.value;return!(e=t,null==e||void 0===t.length)}),n._zod.onattach.push(function(n){var t,r=null!==(t=n._zod.bag.minimum)&&void 0!==t?t:Number.NEGATIVE_INFINITY;e.minimum>r&&(n._zod.bag.minimum=e.minimum)}),n._zod.check=function(t){var r=t.value;if(!(r.length>=e.minimum)){var o=function(n){return Array.isArray(n)?"array":"string"==typeof n?"string":"unknown"}(r);t.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:r,inst:n,continue:!e.abort})}}}),rn=z("$ZodCheckStringFormat",function(n,e){var t,r,o,i;en.init(n,e),n._zod.onattach.push(function(n){var t,r=n._zod.bag;(r.format=e.format,e.pattern)&&(null!==(t=r.patterns)&&void 0!==t||(r.patterns=new Set),r.patterns.add(e.pattern))}),e.pattern?null!==(t=(o=n._zod).check)&&void 0!==t||(o.check=function(t){e.pattern.lastIndex=0,e.pattern.test(t.value)||t.issues.push(p(p({origin:"string",code:"invalid_format",format:e.format,input:t.value},e.pattern?{pattern:e.pattern.toString()}:{}),{},{inst:n,continue:!e.abort}))}):null!==(r=(i=n._zod).check)&&void 0!==r||(i.check=function(){})}),on=z("$ZodCheckRegex",function(n,e){rn.init(n,e),n._zod.check=function(t){e.pattern.lastIndex=0,e.pattern.test(t.value)||t.issues.push({origin:"string",code:"invalid_format",format:"regex",input:t.value,pattern:e.pattern.toString(),inst:n,continue:!e.abort})}}),un=z("$ZodCheckOverwrite",function(n,e){en.init(n,e),n._zod.check=function(n){n.value=e.tx(n.value)}}),an={major:4,minor:1,patch:12},sn=z("$ZodType",function(n,e){var r,o;null!=n||(n={}),n._zod.def=e,n._zod.bag=n._zod.bag||{},n._zod.version=an;var i=m(null!==(r=n._zod.def.checks)&&void 0!==r?r:[]);n._zod.traits.has("$ZodCheck")&&i.unshift(n);var a,s=u(i);try{for(s.s();!(a=s.n()).done;){var c,l=u(a.value._zod.onattach);try{for(l.s();!(c=l.n()).done;){(0,c.value)(n)}}catch(n){l.e(n)}finally{l.f()}}}catch(n){s.e(n)}finally{s.f()}if(0===i.length){var f,v;null!==(f=(o=n._zod).deferred)&&void 0!==f||(o.deferred=[]),null===(v=n._zod.deferred)||void 0===v||v.push(function(){n._zod.run=n._zod.parse})}else{var y=function(n,e,r){var o,i,a=C(n),s=u(e);try{var c=function(){var e=i.value;if(e._zod.def.when){if(!e._zod.def.when(n))return 0}else if(a)return 0;var u=n.issues.length,s=e._zod.check(n);if(s instanceof Promise&&!1===(null==r?void 0:r.async))throw new O;if(o||s instanceof Promise)o=(null!=o?o:Promise.resolve()).then(t(d().m(function e(){return d().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,s;case 1:if(n.issues.length!==u){e.n=2;break}return e.a(2);case 2:a||(a=C(n,u));case 3:return e.a(2)}},e)})));else{if(n.issues.length===u)return 0;a||(a=C(n,u))}};for(s.s();!(i=s.n()).done;)c()}catch(n){s.e(n)}finally{s.f()}return o?o.then(function(){return n}):n},h=function(e,t,r){if(C(e))return e.aborted=!0,e;var o=y(t,i,r);if(o instanceof Promise){if(!1===r.async)throw new O;return o.then(function(e){return n._zod.parse(e,r)})}return n._zod.parse(o,r)};n._zod.run=function(e,t){if(t.skipChecks)return n._zod.parse(e,t);if("backward"===t.direction){var r=n._zod.parse({value:e.value,issues:[]},p(p({},t),{},{skipChecks:!0}));return r instanceof Promise?r.then(function(n){return h(n,e,t)}):h(r,e,t)}var o=n._zod.parse(e,t);if(o instanceof Promise){if(!1===t.async)throw new O;return o.then(function(n){return y(n,i,t)})}return y(o,i,t)}}n["~standard"]={validate:function(e){try{var t,r=W(n,e);return r.success?{value:r.data}:{issues:null===(t=r.error)||void 0===t?void 0:t.issues}}catch(t){return Y(n,e).then(function(n){var e;return n.success?{value:n.data}:{issues:null===(e=n.error)||void 0===e?void 0:e.issues}})}},vendor:"zod",version:1}}),cn=z("$ZodString",function(n,e){var t,r,o,i,u,a,s;sn.init(n,e),n._zod.pattern=null!==(t=m(null!==(r=null==n||null===(o=n._zod.bag)||void 0===o?void 0:o.patterns)&&void 0!==r?r:[]).pop())&&void 0!==t?t:(i=n._zod.bag,s=i?"[\\s\\S]{".concat(null!==(u=null==i?void 0:i.minimum)&&void 0!==u?u:0,",").concat(null!==(a=null==i?void 0:i.maximum)&&void 0!==a?a:"","}"):"[\\s\\S]*",new RegExp("^".concat(s,"$"))),n._zod.parse=function(t,r){if(e.coerce)try{t.value=String(t.value)}catch(r){}return"string"==typeof t.value||t.issues.push({expected:"string",code:"invalid_type",input:t.value,inst:n}),t}}),ln=z("$ZodStringFormat",function(n,e){rn.init(n,e),cn.init(n,e)}),fn=z("$ZodEmail",function(n,e){var t;null!==(t=e.pattern)&&void 0!==t||(e.pattern=Q),ln.init(n,e)}),pn=z("$ZodNumber",function(n,e){var t;sn.init(n,e),n._zod.pattern=null!==(t=n._zod.bag.pattern)&&void 0!==t?t:X,n._zod.parse=function(t,r){if(e.coerce)try{t.value=Number(t.value)}catch(n){}var o=t.value;if("number"==typeof o&&!Number.isNaN(o)&&Number.isFinite(o))return t;var i="number"==typeof o?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return t.issues.push(p({expected:"number",code:"invalid_type",input:o,inst:n},i?{received:i}:{})),t}}),dn=z("$ZodBoolean",function(n,e){sn.init(n,e),n._zod.pattern=nn,n._zod.parse=function(t,r){if(e.coerce)try{t.value=Boolean(t.value)}catch(n){}var o=t.value;return"boolean"==typeof o||t.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:n}),t}}),vn=z("$ZodUnknown",function(n,e){sn.init(n,e),n._zod.parse=function(n){return n}}),yn=z("$ZodVoid",function(n,e){sn.init(n,e),n._zod.parse=function(e,t){var r=e.value;return void 0===r||e.issues.push({expected:"void",code:"invalid_type",input:r,inst:n}),e}});function hn(n,e,t){var r;n.issues.length&&(r=e.issues).push.apply(r,m(I(t,n.issues)));e.value[t]=n.value}var mn=z("$ZodArray",function(n,e){sn.init(n,e),n._zod.parse=function(t,r){var o=t.value;if(!Array.isArray(o))return t.issues.push({expected:"array",code:"invalid_type",input:o,inst:n}),t;t.value=Array(o.length);for(var i=[],u=function(n){var u=o[n],a=e.element._zod.run({value:u,issues:[]},r);a instanceof Promise?i.push(a.then(function(e){return hn(e,t,n)})):hn(a,t,n)},a=0;a<o.length;a++)u(a);return i.length?Promise.all(i).then(function(){return t}):t}});function _n(n,e,t,r){var o;n.issues.length&&(o=e.issues).push.apply(o,m(I(t,n.issues)));void 0===n.value?t in r&&(e.value[t]=void 0):e.value[t]=n.value}function gn(n){for(var e=Object.keys(n.shape),t=0,r=e;t<r.length;t++){var o,i=r[t];if(null===(o=n.shape)||void 0===o||null===(o=o[i])||void 0===o||null===(o=o._zod)||void 0===o||null===(o=o.traits)||void 0===o||!o.has("$ZodType"))throw new Error('Invalid element at key "'.concat(i,'": expected a Zod schema'))}var u,a=(u=n.shape,Object.keys(u).filter(function(n){return"optional"===u[n]._zod.optin&&"optional"===u[n]._zod.optout}));return p(p({},n),{},{keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(a)})}var bn=z("$ZodObject",function(n,e){sn.init(n,e);var t=Object.getOwnPropertyDescriptor(e,"shape");if(null==t||!t.get){var r=e.shape;Object.defineProperty(e,"shape",{get:function(){var n=p({},r);return Object.defineProperty(e,"shape",{value:n}),n}})}var o,i=(o=function(){return gn(e)},{get value(){var n=o();return Object.defineProperty(this,"value",{value:n}),n}});S(n._zod,"propValues",function(){var n=e.shape,t={};for(var r in n){var o=n[r]._zod;if(o.values){var i;null!==(i=t[r])&&void 0!==i||(t[r]=new Set);var a,s=u(o.values);try{for(s.s();!(a=s.n()).done;){var c=a.value;t[r].add(c)}}catch(n){s.e(n)}finally{s.f()}}}return t});var a,s=Z,c=e.catchall;n._zod.parse=function(e,t){null!=a||(a=i.value);var r=e.value;if(!s(r))return e.issues.push({expected:"object",code:"invalid_type",input:r,inst:n}),e;e.value={};var o,l=[],f=a.shape,p=u(a.keys);try{var d=function(){var n=o.value,i=f[n]._zod.run({value:r[n],issues:[]},t);i instanceof Promise?l.push(i.then(function(t){return _n(t,e,n,r)})):_n(i,e,n,r)};for(p.s();!(o=p.n()).done;)d()}catch(n){p.e(n)}finally{p.f()}return c?function(n,e,t,r,o,i){for(var u=[],a=o.keySet,s=o.catchall._zod,c=s.def.type,l=function(){var o=p[f];if(a.has(o))return 0;if("never"===c)return u.push(o),0;var i=s.run({value:e[o],issues:[]},r);i instanceof Promise?n.push(i.then(function(n){return _n(n,t,o,e)})):_n(i,t,o,e)},f=0,p=Object.keys(e);f<p.length;f++)l();return u.length&&t.issues.push({code:"unrecognized_keys",keys:u,input:e,inst:i}),n.length?Promise.all(n).then(function(){return t}):t}(l,r,e,t,i.value,n):l.length?Promise.all(l).then(function(){return e}):e}});function wn(n,e,t,r){var o,i=u(n);try{for(i.s();!(o=i.n()).done;){var a=o.value;if(0===a.issues.length)return e.value=a.value,e}}catch(n){i.e(n)}finally{i.f()}var s=n.filter(function(n){return!C(n)});return 1===s.length?(e.value=s[0].value,s[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:t,errors:n.map(function(n){return n.issues.map(function(n){return F(n,r,P())})})}),e)}var zn=z("$ZodUnion",function(n,e){sn.init(n,e),S(n._zod,"optin",function(){return e.options.some(function(n){return"optional"===n._zod.optin})?"optional":void 0}),S(n._zod,"optout",function(){return e.options.some(function(n){return"optional"===n._zod.optout})?"optional":void 0}),S(n._zod,"values",function(){if(e.options.every(function(n){return n._zod.values}))return new Set(e.options.flatMap(function(n){return Array.from(n._zod.values)}))}),S(n._zod,"pattern",function(){if(e.options.every(function(n){return n._zod.pattern})){var n=e.options.map(function(n){return n._zod.pattern});return new RegExp("^(".concat(n.map(function(n){return E(n.source)}).join("|"),")$"))}});var t=1===e.options.length,r=e.options[0]._zod.run;n._zod.parse=function(o,i){if(t)return r(o,i);var a,s=!1,c=[],l=u(e.options);try{for(l.s();!(a=l.n()).done;){var f=a.value._zod.run({value:o.value,issues:[]},i);if(f instanceof Promise)c.push(f),s=!0;else{if(0===f.issues.length)return f;c.push(f)}}}catch(n){l.e(n)}finally{l.f()}return s?Promise.all(c).then(function(e){return wn(e,o,n,i)}):wn(c,o,n,i)}}),On=z("$ZodTuple",function(n,e){sn.init(n,e);var t=e.items,r=t.length-m(t).reverse().findIndex(function(n){return"optional"!==n._zod.optin});n._zod.parse=function(o,i){var a=o.value;if(!Array.isArray(a))return o.issues.push({input:a,inst:n,expected:"tuple",code:"invalid_type"}),o;o.value=[];var s=[];if(!e.rest){var c=a.length>t.length,l=a.length<r-1;if(c||l)return o.issues.push(p(p({},c?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length}),{},{input:a,inst:n,origin:"array"})),o}var f,d=-1,v=u(t);try{for(v.s();!(f=v.n()).done;){var y=f.value;if(!(++d>=a.length&&d>=r)){var h=y._zod.run({value:a[d],issues:[]},i);h instanceof Promise?s.push(h.then(function(n){return jn(n,o,d)})):jn(h,o,d)}}}catch(n){v.e(n)}finally{v.f()}if(e.rest){var m,_=u(a.slice(t.length));try{for(_.s();!(m=_.n()).done;){var g=m.value;d++;var b=e.rest._zod.run({value:g,issues:[]},i);b instanceof Promise?s.push(b.then(function(n){return jn(n,o,d)})):jn(b,o,d)}}catch(n){_.e(n)}finally{_.f()}}return s.length?Promise.all(s).then(function(){return o}):o}});function jn(n,e,t){var r;n.issues.length&&(r=e.issues).push.apply(r,m(I(t,n.issues)));e.value[t]=n.value}var Pn=z("$ZodRecord",function(n,e){sn.init(n,e),n._zod.parse=function(t,r){var o=t.value;if(!function(n){if(!1===Z(n))return!1;var e=n.constructor;if(void 0===e)return!0;var t=e.prototype;return!1!==Z(t)&&!1!==Object.prototype.hasOwnProperty.call(t,"isPrototypeOf")}(o))return t.issues.push({expected:"record",code:"invalid_type",input:o,inst:n}),t;var i=[];if(e.keyType._zod.values){var a=e.keyType._zod.values;t.value={};var s,c,l=u(a);try{var f=function(){var n=s.value;if("string"==typeof n||"number"==typeof n||"symbol"===_(n)){var u=e.valueType._zod.run({value:o[n],issues:[]},r);if(u instanceof Promise)i.push(u.then(function(e){var r;e.issues.length&&(r=t.issues).push.apply(r,m(I(n,e.issues)));t.value[n]=e.value}));else{var a;if(u.issues.length)(a=t.issues).push.apply(a,m(I(n,u.issues)));t.value[n]=u.value}}};for(l.s();!(s=l.n()).done;)f()}catch(n){l.e(n)}finally{l.f()}for(var p in o)a.has(p)||(c=null!=c?c:[]).push(p);c&&c.length>0&&t.issues.push({code:"unrecognized_keys",input:o,inst:n,keys:c})}else{t.value={};var d,v=u(Reflect.ownKeys(o));try{var y=function(){var u=d.value;if("__proto__"===u)return 0;var a=e.keyType._zod.run({value:u,issues:[]},r);if(a instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(a.issues.length)return t.issues.push({code:"invalid_key",origin:"record",issues:a.issues.map(function(n){return F(n,r,P())}),input:u,path:[u],inst:n}),t.value[a.value]=a.value,0;var s=e.valueType._zod.run({value:o[u],issues:[]},r);if(s instanceof Promise)i.push(s.then(function(n){var e;n.issues.length&&(e=t.issues).push.apply(e,m(I(u,n.issues)));t.value[a.value]=n.value}));else{var c;if(s.issues.length)(c=t.issues).push.apply(c,m(I(u,s.issues)));t.value[a.value]=s.value}};for(v.s();!(d=v.n()).done;)y()}catch(n){v.e(n)}finally{v.f()}}return i.length?Promise.all(i).then(function(){return t}):t}}),kn=z("$ZodEnum",function(n,e){sn.init(n,e);var t,r,o=(t=e.entries,r=Object.values(t).filter(function(n){return"number"==typeof n}),Object.entries(t).filter(function(n){var e=h(n,2),t=e[0];return e[1],-1===r.indexOf(+t)}).map(function(n){var e=h(n,2);return e[0],e[1]})),i=new Set(o);n._zod.values=i,n._zod.pattern=new RegExp("^(".concat(o.filter(function(n){return $.has(_(n))}).map(function(n){return"string"==typeof n?x(n):n.toString()}).join("|"),")$")),n._zod.parse=function(e,t){var r=e.value;return i.has(r)||e.issues.push({code:"invalid_value",values:o,input:r,inst:n}),e}}),En=z("$ZodLiteral",function(n,e){if(sn.init(n,e),0===e.values.length)throw new Error("Cannot create literal schema with no valid values");n._zod.values=new Set(e.values),n._zod.pattern=new RegExp("^(".concat(e.values.map(function(n){return"string"==typeof n?x(n):n?x(n.toString()):String(n)}).join("|"),")$")),n._zod.parse=function(t,r){var o=t.value;return n._zod.values.has(o)||t.issues.push({code:"invalid_value",values:e.values,input:o,inst:n}),t}});function An(n,e){return n.issues.length&&void 0===e?{issues:[],value:void 0}:n}var Sn=z("$ZodOptional",function(n,e){sn.init(n,e),n._zod.optin="optional",n._zod.optout="optional",S(n._zod,"values",function(){return e.innerType._zod.values?new Set([].concat(m(e.innerType._zod.values),[void 0])):void 0}),S(n._zod,"pattern",function(){var n=e.innerType._zod.pattern;return n?new RegExp("^(".concat(E(n.source),")?$")):void 0}),n._zod.parse=function(n,t){if("optional"===e.innerType._zod.optin){var r=e.innerType._zod.run(n,t);return r instanceof Promise?r.then(function(e){return An(e,n.value)}):An(r,n.value)}return void 0===n.value?n:e.innerType._zod.run(n,t)}}),Tn=z("$ZodNullable",function(n,e){sn.init(n,e),S(n._zod,"optin",function(){return e.innerType._zod.optin}),S(n._zod,"optout",function(){return e.innerType._zod.optout}),S(n._zod,"pattern",function(){var n=e.innerType._zod.pattern;return n?new RegExp("^(".concat(E(n.source),"|null)$")):void 0}),S(n._zod,"values",function(){return e.innerType._zod.values?new Set([].concat(m(e.innerType._zod.values),[null])):void 0}),n._zod.parse=function(n,t){return null===n.value?n:e.innerType._zod.run(n,t)}}),Zn=z("$ZodFunction",function(n,e){return sn.init(n,e),n._def=e,n._zod.def=e,n.implement=function(e){if("function"!=typeof e)throw new Error("implement() must be called with a function");return function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=n._def.input?G(n._def.input,r):r,u=Reflect.apply(e,this,i);return n._def.output?G(n._def.output,u):u}},n.implementAsync=function(e){if("function"!=typeof e)throw new Error("implementAsync() must be called with a function");return t(d().m(function t(){var r,o,i,u,a,s,c=arguments;return d().w(function(t){for(;;)switch(t.n){case 0:for(r=c.length,o=new Array(r),i=0;i<r;i++)o[i]=c[i];if(!n._def.input){t.n=2;break}return t.n=1,V(n._def.input,o);case 1:s=t.v,t.n=3;break;case 2:s=o;case 3:return u=s,t.n=4,Reflect.apply(e,this,u);case 4:if(a=t.v,!n._def.output){t.n=6;break}return t.n=5,V(n._def.output,a);case 5:return t.a(2,t.v);case 6:return t.a(2,a)}},t,this)}))},n._zod.parse=function(e,t){if("function"!=typeof e.value)return e.issues.push({code:"invalid_type",expected:"function",input:e.value,inst:n}),e;var r=n._def.output&&"promise"===n._def.output._zod.def.type;return e.value=r?n.implementAsync(e.value):n.implement(e.value),e},n.input=function(){var e=n.constructor;return Array.isArray(arguments.length<=0?void 0:arguments[0])?new e({type:"function",input:new On({type:"tuple",items:arguments.length<=0?void 0:arguments[0],rest:arguments.length<=1?void 0:arguments[1]}),output:n._def.output}):new e({type:"function",input:arguments.length<=0?void 0:arguments[0],output:n._def.output})},n.output=function(e){return new(0,n.constructor)({type:"function",input:n._def.input,output:e})},n}),$n=z("$ZodCustom",function(n,e){en.init(n,e),sn.init(n,e),n._zod.parse=function(n,e){return n},n._zod.check=function(t){var r=t.value,o=e.fn(r);if(o instanceof Promise)return o.then(function(e){return xn(e,t,r,n)});xn(o,t,r,n)}});function xn(n,e,t,r){if(!n){var o,i={code:"custom",input:t,inst:r,path:m(null!==(o=r._zod.def.path)&&void 0!==o?o:[]),continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),e.issues.push(function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=e[0],o=e[1],i=e[2];return"string"==typeof r?{message:r,code:"custom",input:o,inst:i}:p({},r)}(i))}}function Mn(n,e){return new tn(p(p({check:"min_length"},L(e)),{},{minimum:n}))}var Ln=z("ZodMiniType",function(n,e){if(!n._zod)throw new Error("Uninitialized schema in ZodMiniType.");sn.init(n,e),n.def=e,n.type=e.type,n.parse=function(e,t){return G(n,e,t,{callee:n.parse})},n.safeParse=function(e,t){return W(n,e,t)},n.parseAsync=function(){var e=t(d().m(function e(t,r){return d().w(function(e){for(;;)if(0===e.n)return e.a(2,V(n,t,r,{callee:n.parseAsync}))},e)}));return function(n,t){return e.apply(this,arguments)}}(),n.safeParseAsync=function(){var e=t(d().m(function e(t,r){return d().w(function(e){for(;;)if(0===e.n)return e.a(2,Y(n,t,r))},e)}));return function(n,t){return e.apply(this,arguments)}}(),n.check=function(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n.clone(p(p({},e),{},{checks:[].concat(m(null!==(t=e.checks)&&void 0!==t?t:[]),m(o.map(function(n){return"function"==typeof n?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n})))}))},n.clone=function(e,t){return M(n,e,t)},n.brand=function(){return n},n.register=function(e,t){return e.add(n,t),n}}),Nn=z("ZodMiniString",function(n,e){cn.init(n,e),Ln.init(n,e)});function Cn(n){return function(n,e){return new n(p({type:"string"},L(e)))}(Nn,n)}var In=z("ZodMiniStringFormat",function(n,e){ln.init(n,e),Nn.init(n,e)}),Rn=z("ZodMiniEmail",function(n,e){fn.init(n,e),In.init(n,e)});var Fn=z("ZodMiniNumber",function(n,e){pn.init(n,e),Ln.init(n,e)}),Dn=z("ZodMiniBoolean",function(n,e){dn.init(n,e),Ln.init(n,e)});function Hn(n){return function(n,e){return new n(p({type:"boolean"},L(e)))}(Dn,n)}var qn=z("ZodMiniUnknown",function(n,e){vn.init(n,e),Ln.init(n,e)});function Un(){return new qn({type:"unknown"})}var Gn=z("ZodMiniVoid",function(n,e){yn.init(n,e),Ln.init(n,e)});function Bn(n){return function(n,e){return new n(p({type:"void"},L(e)))}(Gn,n)}var Vn=z("ZodMiniArray",function(n,e){mn.init(n,e),Ln.init(n,e)});function Kn(n,e){return new Vn(p({type:"array",element:n},L(e)))}var Wn=z("ZodMiniObject",function(n,e){bn.init(n,e),Ln.init(n,e),S(n,"shape",function(){return e.shape})});function Jn(n,e){var t=p({type:"object",shape:null!=n?n:{}},L(e));return new Wn(t)}var Yn=z("ZodMiniUnion",function(n,e){zn.init(n,e),Ln.init(n,e)});function Qn(n,e){return new Yn(p({type:"union",options:n},L(e)))}var Xn=z("ZodMiniTuple",function(n,e){On.init(n,e),Ln.init(n,e)});function ne(n,e,t){var r=e instanceof sn;return new Xn(p({type:"tuple",items:n,rest:r?e:null},L(r?t:e)))}var ee=z("ZodMiniRecord",function(n,e){Pn.init(n,e),Ln.init(n,e)});function te(n,e,t){return new ee(p({type:"record",keyType:n,valueType:e},L(t)))}var re=z("ZodMiniEnum",function(n,e){kn.init(n,e),Ln.init(n,e),n.options=Object.values(e.entries)});function oe(n,e){var t=Array.isArray(n)?Object.fromEntries(n.map(function(n){return[n,n]})):n;return new re(p({type:"enum",entries:t},L(e)))}var ie=z("ZodMiniLiteral",function(n,e){En.init(n,e),Ln.init(n,e)});function ue(n,e){return new ie(p({type:"literal",values:Array.isArray(n)?n:[n]},L(e)))}var ae=z("ZodMiniOptional",function(n,e){Sn.init(n,e),Ln.init(n,e)});function se(n){return new ae({type:"optional",innerType:n})}var ce=z("ZodMiniNullable",function(n,e){Tn.init(n,e),Ln.init(n,e)});var le=z("ZodMiniCustom",function(n,e){$n.init(n,e),Ln.init(n,e)});function fe(n,e){return function(n,e,t){var r,o=L(t);return null!==(r=o.abort)&&void 0!==r||(o.abort=!0),new n(p({type:"custom",check:"custom",fn:e},o))}(le,null!=n?n:function(){return!0},e)}function pe(n){var e=fe(function(e){return e instanceof n},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{error:"Input not instance of ".concat(n.name)});return e._zod.bag.Class=n,e}var de=z("ZodMiniFunction",function(n,e){Zn.init(n,e),Ln.init(n,e)});function ve(n){var e,t;return new de({type:"function",input:Array.isArray(null==n?void 0:n.input)?ne(null==n?void 0:n.input):null!==(e=null==n?void 0:n.input)&&void 0!==e?e:Kn(Un()),output:null!==(t=null==n?void 0:n.output)&&void 0!==t?t:Un()})}var ye,he=Qn([ue("required"),ue("email"),ue("number"),ue("code"),ne([ue("equal"),Cn().check(Mn(1))])]),me=te(Cn(),he),_e=oe(["or","and"]),ge=(ye=oe(["number","code"]),new ce({type:"nullable",innerType:ye})),be=Jn({type:he,mode:se(_e),with:se(me),if:se(Jn({mode:se(_e),target:te(Cn(),Cn())})),message:se(Cn())}),we=Kn(Jn({name:Cn(),limit:se(ge),validation:se(Qn([be,Kn(be)]))})),ze=Jn({type:Cn(),message:se(Cn())}),Oe=Jn({rules:we,error_class:Cn(),error_message_class:Cn(),empty_error_message_class:Cn(),valid_class:Cn(),initial_error_view:Hn(),submit_button:se(Qn([Cn(),pe(HTMLInputElement),pe(HTMLButtonElement)])),on_validate:se(ve({output:Bn()})),on_success:se(ve({output:Bn()})),on_error:se(ve({input:[te(Cn(),Kn(ze))],output:Bn()})),on_submit:se(ve({output:Bn()})),on_failed:se(ve({input:[te(Cn(),Kn(ze)),Kn(Cn())],output:Bn()})),focus_invalid_field:se(Hn())}),je=N(ae,Oe,{error_class:!0,error_message_class:!0,empty_error_message_class:!0,valid_class:!0,initial_error_view:!0});Jn({validate:ve({output:Bn()})}),te(Cn(),pe(HTMLElement));var Pe=Qn([Cn(),pe(HTMLFormElement)]);Qn([pe(HTMLInputElement),pe(HTMLSelectElement),pe(HTMLTextAreaElement)]);var ke,Ee=Cn().check(new un({check:"overwrite",tx:function(n){return n.trim()}}),Mn(1)),Ae=function(n,e){return new n(p({type:"string",format:"email",check:"string_format",abort:!1},L(e)))}(Rn,ke),Se=function(n){return function(n,e){return new n(p({type:"number",coerce:!0,checks:[]},L(e)))}(Fn,n)}(),Te=function(n){return function(n,e){return new n(p({type:"string",coerce:!0},L(e)))}(Nn,n)}().check(function(n,e){return new on(p(p({check:"string_format",format:"regex"},L(e)),{},{pattern:n}))}(/^[0-9-+*]*$/)),Ze=function(n){var e=n.tagName.toLowerCase(),t=n.getAttribute("type");return"input"===e&&("radio"===t||"checkbox"===t)},$e=function(n,e){if(!Object.hasOwn(n,e)){if(!Object.hasOwn(n,"".concat(e,"[]")))return[];e="".concat(e,"[]")}var t=n[e];return t.entries?function(n,e,t){if(t||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return n.concat(r||Array.prototype.slice.call(e))}([],t,!0):[t]},xe=function(n,e){void 0===e&&(e=null);var t=[];return n.map(function(n){if(Ze(n))n.checked&&t.push(n.value);else{switch(e){case"number":n.value=n.value.replace(/[Ａ-Ｚａ-ｚ０-９]/g,function(n){return String.fromCharCode(n.charCodeAt(0)-65248)}).replace(/[^0-9]/g,"");break;case"code":n.value=function(n){return(n=(n=(n=(n=n.replace(/[Ａ-Ｚａ-ｚ０-９]/g,function(n){return String.fromCharCode(n.charCodeAt(0)-65248)})).replace(/[−ーー―]/g,"-")).replace(/[＋]/g,"+")).replace(/[＊]/g,"*")).replace(/[^0-9-+*]/g,"")}(n.value)}t.push(n.value)}}),t},Me=function(n,e){var t=!0;return e.if?(Object.keys(e.if.target).map(function(r){if(e.if){var o=e.if.target[r],i=$e(n,r),u=xe(i);t="or"===e.if.mode?t||u.includes(o):t&&u.includes(o)}}),t):t},Le=function(n,e,t){switch(e){case"required":return function(n){return!!n.length&&n.reduce(function(n,e){return n&&Ee.safeParse(e).success},!0)}(t);case"email":return function(n){return n.reduce(function(n,e){return n&&Ee.safeParse(e).success?n&&Ae.safeParse(e).success:n},!0)}(t);case"number":return function(n){return n.reduce(function(n,e){return n&&Se.safeParse(e).success},!0)}(t);case"code":return function(n){return n.reduce(function(n,e){return n&&Ee.safeParse(e).success?n&&Te.safeParse(e).success:n},!0)}(t);default:if(Array.isArray(e)&&"equal"===e[0])return function(n,e,t){var r=$e(n,t),o=xe(r);return e.every(function(n){return o.includes(n)})}(n,t,e[1])}},Ne=function(n,e,t,r){return Le(n,e.type,r)||t.push({type:Array.isArray(e.type)?e.type[0]:e.type,message:e.message}),t},Ce=function(n,e,t,r){var o=Le(n,e.type,r);return e.with&&Object.keys(e.with).map(function(t){if(e.with){var r=e.with[t],i=$e(n,t),u=xe(i);o=o||Le(n,r,u)}}),o||t.push({type:Array.isArray(e.type)?e.type[0]:e.type,message:e.message}),t},Ie=function(n,e,t,r){var o=Le(n,e.type,r);return e.with&&Object.keys(e.with).map(function(t){if(e.with){var r=e.with[t],i=$e(n,t),u=xe(i);o=o&&Le(n,r,u)}}),o||t.push({type:Array.isArray(e.type)?e.type[0]:e.type,message:e.message}),t},Re=function(n,e,t,r,o,i){var u,a=$e(n,e),s=(u=[],r?(r.map(function(e){e.with&&Object.keys(e.with).map(function(e){var t=$e(n,e);u.push.apply(u,t)})}),u):u),c=function(){var e=[];return r?(r.map(function(t){t.if&&Object.keys(t.if.target).map(function(t){var r=$e(n,t);e.push.apply(e,r)})}),e):e}(),l=function(){var e=[];return r?(r.map(function(t){if(Array.isArray(t.type)&&"equal"===t.type[0]&&t.type[1]){var r=$e(n,t.type[1]);e.push.apply(e,r)}}),e):e}();if(!a.length)throw Error("Not found target field element: ".concat(e));var f=function(){if(r&&r.length){var n=document.querySelector('[data-inputfollow-error="'.concat(e,'"]'));if(n)return n.classList.add(o.error_message_class,o.empty_error_message_class),n;var t=document.createElement("ul");return t.classList.add(o.error_message_class,o.empty_error_message_class),t.setAttribute("data-inputfollow-error",e),a[0].insertAdjacentElement("afterend",t),t}}(),p=function(n,e){o.valid_class&&n.forEach(function(n){n.classList.remove(o.valid_class)}),e&&o.error_class&&n.forEach(function(n){n.classList.add(o.error_class)})},d=function(n){o.error_class&&n.forEach(function(n){n.classList.remove(o.error_class)}),o.valid_class&&n.forEach(function(n){n.classList.add(o.valid_class)})},v=function(u,l){if(void 0===u&&(u=!1),void 0===l&&(l=!1),e){var v=!l&&(!0!==u||o.initial_error_view);i[e]=function(n,e,t,r){var o=[],i=xe(e,t);return r?(r.map(function(e){Me(n,e)&&(e.with?"or"===e.mode?Ce(n,e,o,i):Ie(n,e,o,i):Ne(n,e,o,i))}),o):o}(n,a,v?t:null,r),r&&r.length&&f&&(y()?(p(a,v),p(s,v),p(c,v),v&&(f.innerHTML="",i[e].map(function(n){if(n.message){var e=document.createElement("li");e.textContent=n.message,f.appendChild(e)}}),f.classList.remove(o.empty_error_message_class))):(d(a),d(s),d(c),f.innerHTML="",f.classList.add(o.empty_error_message_class)))}},y=function(){return!!e&&i[e].length>0},h=function(n,e){void 0===e&&(e=!1),n.forEach(function(n){Ze(n)?n.addEventListener("input",function(){v()},e):(n.addEventListener("input",function(){v(!1,!0)},e),n.addEventListener("blur",function(){v()},e))})};return h(a,!0),h(s,!1),h(c,!1),h(l,!1),{formEl:n,elements:a,name:e,limit:t,validations:r,validate:v,hasError:y,getErrors:function(){return e?i[e]:[]}}};return function(n,e){Pe.parse(n),je.parse(e);var t=function(){if("string"==typeof n){var e=document.querySelector(n);if(!e)throw new Error("Not found target form element: ".concat(n));return e}return n}();if("form"!==t.tagName.toLowerCase())throw new Error("Target element is not <form> element");t.addEventListener("submit",function(n){var e,t,r=!0;a();var u=[];if(Object.keys(i).map(function(n){i[n].length>0&&(u.push(n),r=!1)}),!r){if(n.preventDefault(),"function"==typeof o.on_failed&&o.on_failed(i,u),o.focus_invalid_field){var c=u[0];null===(t=null===(e=s(c)[0])||void 0===e?void 0:e.elements[0])||void 0===t||t.focus()}return!1}return"function"!=typeof o.on_submit||(n.preventDefault(),o.on_submit(),!1)});var r=e.submit_button?"string"==typeof e.submit_button?t.querySelector(e.submit_button):e.submit_button:null,o=w({error_class:"has-error",error_message_class:"inputfollow-error",empty_error_message_class:"is-empty",valid_class:"is-valid",initial_error_view:!1},e),i=new Proxy({},{set:function(n,e,t,u){var a=Reflect.set(n,e,t,u);if(a){var s=!0;Object.keys(i).map(function(n){var e=i[n];s=s&&e.length<=0}),s?(r&&r.removeAttribute("disabled"),"function"==typeof o.on_success&&o.on_success()):(r&&r.setAttribute("disabled","disabled"),"function"==typeof o.on_error&&o.on_error(i))}return a}}),u=[];o.rules.map(function(n){var e=n.name,r=n.limit,a=n.validation,s=a?Array.isArray(a)?a:[a]:null,c=Re(t,e,null!=r?r:null,s,o,i);c&&u.push(c)});var a=function(n){void 0===n&&(n=!1),u.map(function(e){e.validate(n)}),"function"==typeof o.on_validate&&o.on_validate()},s=function(n){return u.filter(function(e){return e.name===n})};return a(!0),{formEl:t,elements:u,validate:a,getElements:s}}}();
